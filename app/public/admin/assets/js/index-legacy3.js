System.register(["./element-plus-legacy.js","./@element-plus-legacy.js","./category-legacy.js","./index-legacy.js","./@vue-legacy.js","./dayjs-legacy.js","./@vueuse-legacy.js","./lodash-es-legacy.js","./@popperjs-legacy.js","./async-validator-legacy.js","./@ctrl-legacy.js","./memoize-one-legacy.js","./normalize-wheel-es-legacy.js","./pinia-legacy.js","./pinia-plugin-persist-legacy.js","./vanilla-jsoneditor-legacy.js","./json-source-map-legacy.js","./@fortawesome-legacy.js","./natural-compare-lite-legacy.js","./@codemirror-legacy.js","./@lezer-legacy.js","./crelt-legacy.js","./@marijn-legacy.js","./style-mod-legacy.js","./w3c-keyname-legacy.js","./@replit-legacy.js","./codemirror-wrapped-line-indent-legacy.js","./fast-deep-equal-legacy.js","./fast-uri-legacy.js","./jmespath-legacy.js","./immutable-json-patch-legacy.js","./jsonrepair-legacy.js","./vue-router-legacy.js","./axios-legacy.js","./js-cookie-legacy.js","./saduocss-legacy.js"],(function(e,l){"use strict";var a,t,n,s,c,o,i,r,d,u,p,h,y,g,m,j,f,w,k,b,C,S,_,v,x,D,$,E,T,V;return{setters:[e=>{a=e.L,t=e.q,n=e.r,s=e.f,c=e.p,o=e.M,i=e.D,r=e.N,d=e.K},e=>{u=e.G,p=e.E,h=e.v,y=e.H},e=>{g=e.s,m=e.b,j=e.d},e=>{f=e._,w=e.t,k=e.b},e=>{b=e.aa,C=e.o,S=e.c,_=e.a,v=e.M,x=e.K,D=e.a2,$=e.S,E=e.J,T=e.G,V=e.P},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){var l=document.createElement("style");l.textContent="[data-v-a24cbb27] .el-form-item{margin-bottom:0}\n/*$vite$:1*/",document.head.appendChild(l);const B={class:"content-wrap"},z={class:"search flex justify-between align-c pt-10 pl-20 pr-20 pb-20 mb-20"},q={key:0},G={key:1},K={key:0},M={key:1};e("default",f({name:"category-index",setup:()=>({Edit:u,Delete:p,View:h,Search:y}),data:()=>({params:{keywords:""},loading:!0,tableData:[],multipleSelection:[]}),computed:{},created(){this.search()},methods:{clearSearch(){this.params.keywords="",this.tableData=[],this.multipleSelection=[],this.search()},async search(){try{const e=this.params.keywords;let l=await g(e);if(200===l.code){let e=w(l.data);this.tableData=k(e),this.loading=!1}}catch(e){console.log(e)}},toggleSelection(e){e?e.forEach((e=>{this.$refs.multipleTable.toggleRowSelection(e)})):this.$refs.multipleTable.clearSelection()},handleSelectionChange(e){this.multipleSelection=e},toEdit(e){let l=e.id;this.$router.push({name:"category-edit",params:{id:l}})},async hasChild(e){try{let l=await m(e);if(200===l.code)return l.data.length>0}catch(l){console.log(l)}},async del(e){try{let l=await j(e);200===l.code?(this.$message({message:"删除成功 ^_^",type:"success"}),this.clearSearch()):this.$message({message:l.msg,type:"success"})}catch(l){console.log(l)}},handleClick(e){let l;l="0"==e.type?location.origin+e.path+"/index.html":location.origin+e.path+"/page.html",window.open(l)},delSome(){},handleDelDefore(e){console.log(e),a.confirm("确定要删除该条记录吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"danger"}).then((()=>{this.handleDel(e)})).catch((()=>{}))},handleDel(e){let l=e.id;if(this.hasChild(l).length>0)return this.$message({message:"我下面还有栏目啊 ^_^",type:"success"}),!1;this.del(l)}}},[["render",function(e,l,a,u,p,h){const y=t,g=n,m=s,j=c,f=b("router-link"),w=o,k=i,H=r,I=d;return C(),S("div",B,[_("div",z,[v(j,{inline:!0,model:e.params},{default:x((()=>[v(g,{class:"mt-10",label:"名称",prop:"keywords"},{default:x((()=>[v(y,{placeholder:"请输入栏目名称","suffix-icon":u.Search,modelValue:e.params.keywords,"onUpdate:modelValue":l[0]||(l[0]=l=>e.params.keywords=l),clearable:""},null,8,["suffix-icon","modelValue"])])),_:1}),v(g,{class:"mt-10"},{default:x((()=>[v(m,{type:"primary",onClick:h.search,round:""},{default:x((()=>l[1]||(l[1]=[D("搜索")]))),_:1},8,["onClick"]),v(m,{onClick:h.clearSearch,round:""},{default:x((()=>l[2]||(l[2]=[D("清空")]))),_:1},8,["onClick"])])),_:1})])),_:1},8,["model"]),v(f,{class:"mt-10",to:"/category/add"},{default:x((()=>[v(m,{type:"primary",onClick:h.search,round:""},{default:x((()=>l[3]||(l[3]=[D("新增")]))),_:1},8,["onClick"])])),_:1})]),$((C(),E(H,{ref:"multipleTable",data:e.tableData,"tooltip-effect":"dark","row-key":"name","tree-props":{children:"children",hasChildren:"hasChildren"},onSelectionChange:h.handleSelectionChange},{default:x((()=>[v(w,{type:"selection"}),v(w,{prop:"name",label:"栏目名称",width:"140"}),v(w,{align:"center",label:"通栏图片"},{default:x((e=>[e.row.tong?(C(),E(k,{key:0,style:{width:"200px",height:"50px"},src:e.row.tong,fit:"cover"},null,8,["src"])):T("",!0)])),_:1}),v(w,{prop:"id",align:"center",label:"编号"}),v(w,{prop:"type",label:"类型",width:"80"},{default:x((e=>[0==e.row.type?(C(),S("p",q,"栏目")):(C(),S("p",G,"单页"))])),_:1}),v(w,{prop:"orderBy",align:"center",label:"排序"},{default:x((e=>[D(V(e.row.orderBy),1)])),_:1}),v(w,{prop:"status",label:"状态"},{default:x((e=>[0==e.row.status?(C(),S("p",K,"显示")):(C(),S("p",M,"隐藏"))])),_:1}),v(w,{fixed:"right",label:"操作",width:"160"},{default:x((e=>[v(m,{icon:u.View,circle:"",onClick:l=>h.handleClick(e.row)},null,8,["icon","onClick"]),v(m,{icon:u.Edit,circle:"",onClick:l=>h.toEdit(e.row)},null,8,["icon","onClick"]),v(m,{icon:u.Delete,circle:"",onClick:l=>h.handleDelDefore(e.row)},null,8,["icon","onClick"])])),_:1})])),_:1},8,["data","onSelectionChange"])),[[I,e.loading]])])}],["__scopeId","data-v-a24cbb27"]]))}}}));
